(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34261,e=>{"use strict";e.s(["default",()=>s]);var a=e.i(37750),r=e.i(22809);function s(){let[e,s]=(0,r.useState)(null),[d,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1);async function c(){let e=await fetch("/api/admin/settings");if(401===e.status)return void o(!0);s(await e.json())}if((0,r.useEffect)(()=>{c()},[]),n)return(0,a.jsx)("div",{className:"px-4 sm:px-6 py-10 text-center",children:(0,a.jsxs)("div",{className:"opacity-70",children:["Unauthorized. Please ",(0,a.jsx)("a",{href:"/admin/login",className:"underline",children:"log in"}),"."]})});if(!e)return(0,a.jsx)("div",{className:"px-4 sm:px-6 py-10 text-center opacity-70",children:"Loading…"});async function m(a){let r={...e,...a};s(r),l(!0);let t=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});l(!1),t.ok||alert("Failed to save")}return(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-8 max-w-5xl mx-auto grid gap-6",children:[(0,a.jsx)("div",{className:"text-lg font-medium",children:"Admin Settings"}),(0,a.jsxs)("section",{className:"grid gap-2 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,a.jsx)("div",{className:"font-medium",children:"Models"}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3",children:[(0,a.jsx)(t,{label:"Gemini Model",value:e.gemini_model,onChange:e=>m({gemini_model:e})}),(0,a.jsx)(t,{label:"Imagen Model",value:e.image_model,onChange:e=>m({image_model:e})})]})]}),(0,a.jsxs)("section",{className:"grid gap-2 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,a.jsx)("div",{className:"font-medium",children:"Parameters"}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3",children:[(0,a.jsx)(t,{label:"Temperature",type:"number",step:"0.1",value:e.gemini_temperature,onChange:e=>m({gemini_temperature:Number(e)})}),(0,a.jsx)(t,{label:"Top P",type:"number",step:"0.05",value:e.gemini_top_p,onChange:e=>m({gemini_top_p:Number(e)})}),(0,a.jsx)(t,{label:"Top K",type:"number",step:"1",value:e.gemini_top_k,onChange:e=>m({gemini_top_k:Number(e)})})]})]}),(0,a.jsxs)("section",{className:"grid gap-3 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,a.jsx)("div",{className:"font-medium",children:"System Prompt"}),(0,a.jsx)(i,{value:e.system_prompt,onChange:e=>m({system_prompt:e}),rows:3})]}),(0,a.jsxs)("section",{className:"grid gap-3 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,a.jsx)("div",{className:"font-medium",children:"Story Prompt Template"}),(0,a.jsxs)("div",{className:"text-xs opacity-60",children:["Available: ",(0,a.jsx)("code",{children:"{{genre}}"}),", ",(0,a.jsx)("code",{children:"{{history}}"}),", ",(0,a.jsx)("code",{children:"{{choice}}"})]}),(0,a.jsx)(i,{value:e.story_prompt_template,onChange:e=>m({story_prompt_template:e}),rows:6})]}),(0,a.jsxs)("section",{className:"grid gap-3 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,a.jsx)("div",{className:"font-medium",children:"Image Prompt Template"}),(0,a.jsxs)("div",{className:"text-xs opacity-60",children:["Available: ",(0,a.jsx)("code",{children:"{{genre}}"}),", ",(0,a.jsx)("code",{children:"{{scene_summary}}"})]}),(0,a.jsx)(i,{value:e.image_prompt_template,onChange:e=>m({image_prompt_template:e}),rows:4})]}),d&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 text-xs py-1.5 px-2.5 rounded-lg bg-black/70 text-white",children:"Saving…"})]})}function t(e){let{label:r,value:s,onChange:t,type:i="text",step:d}=e;return(0,a.jsxs)("label",{className:"grid gap-1",children:[(0,a.jsx)("span",{className:"text-xs opacity-60",children:r}),(0,a.jsx)("input",{type:i,step:d,value:s,onChange:e=>t(e.target.value),className:"rounded-lg px-3 py-2 bg-white/60 dark:bg-black/30 border border-black/10 dark:border-white/10 focus:outline-none focus:ring-2 focus:ring-cyan-400/60"})]})}function i(e){let{value:r,onChange:s,rows:t=4}=e;return(0,a.jsx)("textarea",{value:r,onChange:e=>s(e.target.value),rows:t,className:"rounded-lg px-3 py-2 bg-white/60 dark:bg-black/30 border border-black/10 dark:border-white/10 focus:outline-none focus:ring-2 focus:ring-cyan-400/60"})}}]);