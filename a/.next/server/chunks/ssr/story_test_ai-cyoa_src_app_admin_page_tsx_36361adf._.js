module.exports=[97520,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(77893),c=a.i(67752);function d(){let[a,d]=(0,c.useState)(null),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!1);async function k(){let a=await fetch("/api/admin/settings");if(401===a.status)return void j(!0);d(await a.json())}if((0,c.useEffect)(()=>{k()},[]),i)return(0,b.jsx)("div",{className:"px-4 sm:px-6 py-10 text-center",children:(0,b.jsxs)("div",{className:"opacity-70",children:["Unauthorized. Please ",(0,b.jsx)("a",{href:"/admin/login",className:"underline",children:"log in"}),"."]})});if(!a)return(0,b.jsx)("div",{className:"px-4 sm:px-6 py-10 text-center opacity-70",children:"Loading…"});async function l(b){let c={...a,...b};d(c),h(!0);let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});h(!1),e.ok||alert("Failed to save")}return(0,b.jsxs)("div",{className:"px-4 sm:px-6 py-8 max-w-5xl mx-auto grid gap-6",children:[(0,b.jsx)("div",{className:"text-lg font-medium",children:"Admin Settings"}),(0,b.jsxs)("section",{className:"grid gap-2 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,b.jsx)("div",{className:"font-medium",children:"Models"}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3",children:[(0,b.jsx)(e,{label:"Gemini Model",value:a.gemini_model,onChange:a=>l({gemini_model:a})}),(0,b.jsx)(e,{label:"Imagen Model",value:a.image_model,onChange:a=>l({image_model:a})})]})]}),(0,b.jsxs)("section",{className:"grid gap-2 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,b.jsx)("div",{className:"font-medium",children:"Parameters"}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3",children:[(0,b.jsx)(e,{label:"Temperature",type:"number",step:"0.1",value:a.gemini_temperature,onChange:a=>l({gemini_temperature:Number(a)})}),(0,b.jsx)(e,{label:"Top P",type:"number",step:"0.05",value:a.gemini_top_p,onChange:a=>l({gemini_top_p:Number(a)})}),(0,b.jsx)(e,{label:"Top K",type:"number",step:"1",value:a.gemini_top_k,onChange:a=>l({gemini_top_k:Number(a)})})]})]}),(0,b.jsxs)("section",{className:"grid gap-3 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,b.jsx)("div",{className:"font-medium",children:"System Prompt"}),(0,b.jsx)(f,{value:a.system_prompt,onChange:a=>l({system_prompt:a}),rows:3})]}),(0,b.jsxs)("section",{className:"grid gap-3 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,b.jsx)("div",{className:"font-medium",children:"Story Prompt Template"}),(0,b.jsxs)("div",{className:"text-xs opacity-60",children:["Available: ",(0,b.jsx)("code",{children:"{{genre}}"}),", ",(0,b.jsx)("code",{children:"{{history}}"}),", ",(0,b.jsx)("code",{children:"{{choice}}"})]}),(0,b.jsx)(f,{value:a.story_prompt_template,onChange:a=>l({story_prompt_template:a}),rows:6})]}),(0,b.jsxs)("section",{className:"grid gap-3 rounded-2xl p-5 bg-white/80 dark:bg-white/5 backdrop-blur border border-black/5 dark:border-white/10",children:[(0,b.jsx)("div",{className:"font-medium",children:"Image Prompt Template"}),(0,b.jsxs)("div",{className:"text-xs opacity-60",children:["Available: ",(0,b.jsx)("code",{children:"{{genre}}"}),", ",(0,b.jsx)("code",{children:"{{scene_summary}}"})]}),(0,b.jsx)(f,{value:a.image_prompt_template,onChange:a=>l({image_prompt_template:a}),rows:4})]}),g&&(0,b.jsx)("div",{className:"fixed bottom-4 right-4 text-xs py-1.5 px-2.5 rounded-lg bg-black/70 text-white",children:"Saving…"})]})}function e({label:a,value:c,onChange:d,type:e="text",step:f}){return(0,b.jsxs)("label",{className:"grid gap-1",children:[(0,b.jsx)("span",{className:"text-xs opacity-60",children:a}),(0,b.jsx)("input",{type:e,step:f,value:c,onChange:a=>d(a.target.value),className:"rounded-lg px-3 py-2 bg-white/60 dark:bg-black/30 border border-black/10 dark:border-white/10 focus:outline-none focus:ring-2 focus:ring-cyan-400/60"})]})}function f({value:a,onChange:c,rows:d=4}){return(0,b.jsx)("textarea",{value:a,onChange:a=>c(a.target.value),rows:d,className:"rounded-lg px-3 py-2 bg-white/60 dark:bg-black/30 border border-black/10 dark:border-white/10 focus:outline-none focus:ring-2 focus:ring-cyan-400/60"})}}];

//# sourceMappingURL=story_test_ai-cyoa_src_app_admin_page_tsx_36361adf._.js.map